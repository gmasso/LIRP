\documentclass[10pt, a4paper]{article}
\input{config}

\title{Location Inventory Routing Problem}
\author[1]{Guillaume Massonnet\thanks{guillaume.massonnet@imt-atlantique.fr}}
\author[1]{Olivier PÃ©ton\thanks{olivier.peton@imt-atlantique.fr}}
\affil[1]{IMT Atlantique, LS2N, 4 rue Alfred Kastler, 44300 Nantes, France}

\begin{document}
\maketitle
\begin{abstract}                % Abstract of not more than 250 words.
The abstract here. 
\end{abstract}

%\begin{keyword}
%Five to ten keywords, preferably chosen from the IFAC keyword list.
%\end{keyword}

\section{Introduction}
Location Inventory Routing Problem (LIRP) aims at integrating in a unified model the three level of decisions involved in the optimization of the supply chain. 
The strategical aspect relates to the designe of the network, by positioning and opening distribution centers on a geographical area.
At the tactical, production and inventory management decisions are made while the operational part of the problem focuses on logistics and transportation solutions. 

\subsection{Literature review}
Fill the .bib file and reference the papers, explain what the authors are doing.

\section{The model}
\subsection{Description and notations}
In this work, we present a unified model that covers a broad spectrum of systems in which one supplier (or central plant) produces semi-finished or end products. 
There is a set of candidates depots, that is location onto which {\em distribution centers} (DC), or {\em depots} may be opened to operate as intermediate between the central supplier and a (often larger) set of retailers, also called customers.
The decision to open or not a DC incurs a fixed opening cost for each depot at the beginning of the planning horizon and cannot be changed during the exploitation of the network.
Units stored at a DC or at a customer incur a holding cost that represents the financial immobilisation of the good as well as maintenance costs.
Finally deliveries are made through predefined routes through the network. A route starts either from the supplier and visits a set of depots before returning to the supplier or starts from a depot and visits a set of customers before returning to the same depot. 
Using a route to deliver units during a time period also incurs a transportation cost that consists of a (possibly zero) fixed ordering cost along with a routing cost that depends on the length of the route and its number of stops.

Throughout the paper, we use the following notations:
\begin{table}
    \centering
    \begin{tabular}{ll}
        \hline
        Set & Definition \\
        \hline
        $\cu$ & Set of customers \\ 
        $\dc$ & Set of distribution centers j \\
        $\su$ & Set of plants (1 plant here)\\
        $T$ & Length of the planning horizon\\
        $\rd$ & Set of routes starting from the plant and visiting a subset of the depots\\
        $\rc$ & Set of routes starting from a DC and visiting a subset of customers\\
        \hline
        \hline
        Data & Definition \\
        \hline
        $f_j$ & Fixed cost of opening distribution center $j\in\dc$\\ 
        $\kd$ & Capacity of vehicles delivering distribution centers\\ 
        $\kc$ & Capacity of vehicles delivering customers\\ 
        $d^t_i$ & Demand faced by customer $i\in\cu$ in period $t=1,\ldots,T$\\
        $h^t_i$ & Per-unit, per-period holding cost of location $i\in\cu\cup\dc$ in period $t=1,\ldots, T$\\
        $I_{i0}$ & Initial inventory of location $i\in \cu\cup\dc$ at the beginning of the planning horizon\\
        $c_r$ & Cost of route $r\in \rd\cup\rc$\\
        $\alpha_{ir}$ & indicator of route $r\in\rc$ visits customer $i$\\
        $\beta_{jr}$ & indicator of route $r\in\rc$ visits depot $j$\\
        $\gamma_{jr}$ & indicator of route $r\in\rd\cup\rc$ visits depot $j$\\
        $I_i^{\max}$ & Maximum inventory at location $i\in\dc\cup\cu$\\
        \hline
        \hline
        \multicolumn{2}{l}{Variables}\\
        \hline
        \multicolumn{2}{l}{\textit{Binary Variables}}\\
        $y_j$ & $\rightarrow$ 1 if distribution center j is selected \\
        $z^t_r$ & $\rightarrow$ 1 if route r is selected in period t\\
        \hline
        \multicolumn{2}{l}{\textit{Continuous variables}}\\
        $u^t_{ir}$ & $\rightarrow$ quantity delivered by route $r\in\rc$ to customer $i\in\cu$ in period $t=1,\ldots,T$\\
        $v^t_{jr}$ & $\rightarrow$ quantity delivered by route $r\in\rd$ to location $j\in\dc$ in period $t=1,\ldots,T$\\
        $I^t_i$ & $\rightarrow$ Inventory at location $i$ in period $t=1,\ldots,T$\\
        \hline
    \end{tabular}
\end{table}

\subsection{MIP formulation}\label{subsection:MIP}
\begin{alignat}{3}
    \text{minimize} &&\sum_{j\in \dc} f_j y_j &+\sum_{t=1}^{T} \left( \sum_{r\in \rd\cup\rc} c_r z^t_r + \sum_{i\in \dc\cup\cu} h^t_i I_i^t\right)\label{objfunct}\\ 
    \text{s.t.}  &&\sum_{r\in \rc} \beta_{jr} z^t_r &\leq 1 															&\forall j&\in \dc, \forall t=1,\ldots,T  \label{const:singleroutedepots}\\
                 &&\sum_{r\in \rc} \alpha_{ir} z^t_r &\leq 1 															&\forall i&\in \cu, \forall t=1,\ldots,T  \label{const:singleroutecustomers}\\
                 &&\gamma_{jr}z^t_r 					&\leq y_j 													&\forall j&\in\dc, \forall r\in \rd, \forall t=1,\ldots,T\label{const:serveopendepots}\\
                 &&z^t_r 					&\leq \sum_{j\in\dc}\beta_{jr}y_j 													&\forall r&\in \rc, \forall t=1,\ldots,T\label{const:startfromopendepots}\\
                 &&\sum_{j\in \dc} v^t_{jr}   		&\leq \kd z^t_r 														&\forall r&\in \rd, t=1,\ldots,T\label{const:deliveryUBdepots}\\
                 &&\sum_{i\in \cu} u^t_{ir}   		&\leq \kc z^t_r 														&\forall r&\in \rc, t=1,\ldots,T\label{const:deliveryUBcustomers}\\
                 &&I^{t-1}_j + \sum_{r\in\rd} v^t_{jr}   			&=I^t_j +\sum_{r\in \rc}\left(\sum_{i\in \cu}u^t_{ir}\right) 			&\forall j&\in \dc, \forall t=1,\ldots,T \label{const:invflowdepots}\\
                 &&I^{t-1}_i+\sum_{r\in \rc} u^t_{ir} &= I^t_i +d^t_i 							&\forall i&\in \cu, \forall t=1,\ldots,T\label{const:invflowcustomers}\\
                 &&I^t_j					& \leq I_j^{\max} y_j  														&\forall j&\in \dc,\forall t=1,\ldots,T\label{const:invdepotUB}\\	
                 &&I^t_i 					&\leq \min\left(I_i^{\max}, \sum_{t'\geq t}d^{t'}_i\right)											&\forall i&\in \cu, \forall t=1,\ldots,T\label{const:invcustUB}\\
                 &&u^t_{ir}			&\geq 0 															&\forall i &\in \cu, \forall r\in \rc,\forall t=1,\ldots, T\label{const:upos}	\\
                 &&v^t_{jr}			&\geq 0 															&\forall j &\in \dc, \forall r\in \rd,\forall t=1,\ldots, T\label{const:vpos}	\\
                 &&y_{j}					& \in \{0,1\} 														&\forall j&\in \dc\label{const:ybool}\\	
                 &&z^t_r					&\in \{0,1\} 														&\forall r&\in \rc\cup\rd, \forall t=1,\ldots,T\label{const:zbool}
\end{alignat}

The objective function~\eqref{objfunct} aims at minimizing the total cost incurred by the system. 
Constraints~\eqref{const:singleroutedepots} and~\eqref{const:singleroutecustomers} state that every depot and every customer is served by at most one route $r\in\rd$ and $r\in\rc$ in every period, respectively. 
Constraint~\eqref{const:serveopendepots} ensure that the routes used in period $t$ only pass through open depots, while constraint~\eqref{const:startfromopendepots} ensures that routes start only from opened depots. 
Constraints~\eqref{const:deliveryUBdepots} and~\eqref{const:deliveryUBcustomers} constraint the sum of the quantities deliverd through a given route in a given period is lower than the capacity of a vehicle. 
Constraints~\eqref{const:invflowdepots} and~\eqref{const:invflowcustomers} define the units flow through the depots and customers, respectively.
Finally, constraints~\eqref{const:invdepotUB} and~\eqref{const:invcustUB} ensure that the capacity constraint on the inventory at the depots and the customers are satisfied in any period. 

\subsection{Restrictions}
Although the MIP formulation from~\S~\ref{subsection:MIP} deals with a rather general version of the problem, we focus on two particular cases:
\begin{enumerate}
    \item The first one considers a model ``Direct+Loop'' in which the set $\rd$ consists only of direct routes between the supplier and the depots. 
        That is, a route $r\in\rd$ can be described by two arcs $(s,j)$ and $(j,s)$, where $j\in\dc$ and $s$ is the supplier.
    \item The second one, called ``Loop+Direct'' considers a set $\rc$ containing only direct routes between depots and customers. 
        In other words, a route $r\in\rc$ can be described by two arcs $(j,i)$ and $(i,j)$ with $j\in\dc$ and $i\in\cu$. Figure~\ref{fig:ld}.
\end{enumerate}
Figure~\ref{fig:dl} and~\ref{fig:ld} illustrates the two types of structures related to these models.
\begin{figure}
    \centering
    \subcaptionbox[.45\linewidth]{Model ``Direct-Loop''\label{fig:dl}}{\inputfig{model1}}
    \subcaptionbox[.45\linewidth]{Model ``Loop-Direct''\label{fig:ld}}{\inputfig{model2}}
    \caption{The two types of routing structures considered}
\end{figure}

\bibliographystyle{plain}
\bibliography{biblio_LIRP}

\end{document}
